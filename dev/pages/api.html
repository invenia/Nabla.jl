<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · Nabla.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/indigo.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="Nabla.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">Nabla.jl</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li class="is-active"><a class="tocitem" href="api.html">API</a></li><li><a class="tocitem" href="custom.html">Custom Sensitivities</a></li><li><a class="tocitem" href="autodiff.html">Details</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="api.html">API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="api.html">API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/invenia/Nabla.jl/blob/master/docs/src/pages/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><article class="docstring"><header><a class="docstring-binding" id="Nabla.Arg" href="#Nabla.Arg"><code>Nabla.Arg</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Used to flag which argument is being specified in x̄. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/core.jl#L176">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.Branch" href="#Nabla.Branch"><code>Nabla.Branch</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A <code>Branch</code> is a Node with parents (args).</p><p>Fields: val::T - the value of this node produced in the forward pass. f - the function used to generate this Node. args - Values indicating which elements in the tape will require updating by this node. tape - The Tape to which this Branch is assigned. pos - the location of this Branch in the tape to which it is assigned. pullback::B - if there is a custom primative rule (a <code>ChainRulesCore.rrule</code>) then this holds     the pullback to propagate gradients back through the operation. If there is not a rule     then this is set to <code>nothing</code>.     It may also be set to <code>nothing</code> by legacy Nabla rules that have not moved to ChainRules.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/core.jl#L61-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.Leaf" href="#Nabla.Leaf"><code>Nabla.Leaf</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An element at the &#39;bottom&#39; of the computational graph.</p><p>Fields: val - the value of the node. tape - The Tape to which this Leaf is assigned. pos - the location of this Leaf in the tape to which it is assigned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/core.jl#L40-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.Node" href="#Nabla.Node"><code>Nabla.Node</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Basic unit on the computational graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/core.jl#L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.Tape" href="#Nabla.Tape"><code>Nabla.Tape</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A topologically ordered collection of Nodes. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/core.jl#L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.check_errs-Union{Tuple{T}, Tuple{Any, Union{Number, AbstractArray{var&quot;#s1&quot;, N} where {var&quot;#s1&quot;&lt;:Number, N}}, T, T}, Tuple{Any, Union{Number, AbstractArray{var&quot;#s1&quot;, N} where {var&quot;#s1&quot;&lt;:Number, N}}, T, T, Number}, Tuple{Any, Union{Number, AbstractArray{var&quot;#s1&quot;, N} where {var&quot;#s1&quot;&lt;:Number, N}}, T, T, Number, Number}} where T" href="#Nabla.check_errs-Union{Tuple{T}, Tuple{Any, Union{Number, AbstractArray{var&quot;#s1&quot;, N} where {var&quot;#s1&quot;&lt;:Number, N}}, T, T}, Tuple{Any, Union{Number, AbstractArray{var&quot;#s1&quot;, N} where {var&quot;#s1&quot;&lt;:Number, N}}, T, T, Number}, Tuple{Any, Union{Number, AbstractArray{var&quot;#s1&quot;, N} where {var&quot;#s1&quot;&lt;:Number, N}}, T, T, Number, Number}} where T"><code>Nabla.check_errs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">check_errs(
    f,
    ȳ::∇ArrayOrScalar,
    x::T,
    v::T,
    ε_abs::∇Scalar=1e-10,
    ε_rel::∇Scalar=1e-7
)::Bool where T</code></pre><p>Check that the difference between finite differencing directional derivative estimation and RMAD directional derivative computation for function <code>f</code> at <code>x</code> in direction <code>v</code>, for both allocating and in-place modes, has absolute and relative errors of <code>ε_abs</code> and <code>ε_rel</code> respectively, when scaled by reverse-mode sensitivity <code>ȳ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/finite_differencing.jl#L91-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.domain1-Union{Tuple{T}, Tuple{Function, Function, Vector{T}}} where T" href="#Nabla.domain1-Union{Tuple{T}, Tuple{Function, Function, Vector{T}}} where T"><code>Nabla.domain1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">domain1{T}(in_domain::Function, measure::Function, points::Vector{T})
domain1(f::Function)</code></pre><p>Attempt to find a domain for a unary, scalar function <code>f</code>.</p><p><strong>Arguments</strong></p><ul><li><code>in_domain::Function</code>: Function that takes a single argument <code>x</code> and returns whether <code>x</code>   argument is in <code>f</code>&#39;s domain.</li><li><code>measure::Function</code>: Function that measures the size of a set of points for <code>f</code>.</li><li><code>points::Vector{T}</code>: Ordered set of test points to construct the domain from.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/finite_differencing.jl#L139-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.domain2-Tuple{Function}" href="#Nabla.domain2-Tuple{Function}"><code>Nabla.domain2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">domain2(f::Function)</code></pre><p>Attempt to find a rectangular domain for a binary, scalar function <code>f</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/finite_differencing.jl#L191-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.in_domain-Tuple{Function, Vararg{Float64, N} where N}" href="#Nabla.in_domain-Tuple{Function, Vararg{Float64, N} where N}"><code>Nabla.in_domain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">in_domain(f::Function, x::Float64...)</code></pre><p>Check whether an input <code>x</code> is in a scalar, real function <code>f</code>&#39;s domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/finite_differencing.jl#L122-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.preprocess-Tuple{Any, Any, Any, Vararg{Any, N} where N}" href="#Nabla.preprocess-Tuple{Any, Any, Any, Vararg{Any, N} where N}"><code>Nabla.preprocess</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preprocess(f, y, ȳ, xs...) = ()</code></pre><p>Default implementation of preprocess returns an empty Tuple. Individual sensitivity implementations should add methods specific to their use case. The output is passed in to <code>∇</code> as the 3rd or 4th argument in the new-x̄ and update-x̄ cases respectively.</p><p><code>preprocess</code> is invoked with <code>y</code> and <code>xs</code> still boxed. The default implementation just calls <code>unbox</code> on them then calls <code>preprocess</code> on the unboxed values. If for preprocessing you need the boxed values you should overload <code>preprocess(f, y::Node, ȳ, xs...)</code>. If you need them unboxed, then overloading <code>preprocess(f, y, ȳ, xs...)</code> is fine.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/sensitivity.jl#L206-L219">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.∇-Tuple{Any}" href="#Nabla.∇-Tuple{Any}"><code>Nabla.∇</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">∇(f; get_output::Bool=false)</code></pre><p>Returns a function which, when evaluated with arguments that are accepted by <code>f</code>, will return the gradient w.r.t. each of the arguments. If <code>get_output</code> is <code>true</code>, the result of calling <code>f</code> on the given arguments is also returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/core.jl#L207-L213">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.∇-Tuple{Node, Any}" href="#Nabla.∇-Tuple{Node, Any}"><code>Nabla.∇</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">∇(y::Node{&lt;:∇Scalar})
∇(y::Node{T}, ȳ::T) where T</code></pre><p>Return a <code>Tape</code> object which can be indexed using <code>Node</code>s, each element of which contains the result of multiplying <code>ȳ</code> by the transpose of the Jacobian of the function specified by the <code>Tape</code> object in <code>y</code>. If <code>y</code> is a scalar and <code>ȳ = 1</code> then this is equivalent to computing the gradient of <code>y</code> w.r.t. each of the elements in the <code>Tape</code>.</p><pre><code class="nohighlight hljs">∇(f::Function, ::Type{Arg{N}}, p, y, ȳ, x...)</code></pre><p>To implement a new reverse-mode sensitivity for the <code>N^{th}</code> argument of function <code>f</code>. p is the output of <code>preprocess</code>. <code>x1</code>, <code>x2</code>,... are the inputs to the function, <code>y</code> is its output and <code>ȳ</code> the reverse-mode sensitivity of <code>y</code>.</p><pre><code class="nohighlight hljs">∇(x̄, f::Function, ::Type{Arg{N}}, p, y, ȳ, x...)</code></pre><p>This is the optional in-place version of <code>∇</code> that should, if implemented, mutate x̄ to have the gradient added to it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/core.jl#L179-L199">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.@explicit_intercepts" href="#Nabla.@explicit_intercepts"><code>Nabla.@explicit_intercepts</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@explicit_intercepts(f::Symbol, type_tuple::Expr, is_node::Expr[, kwargs::Expr])
@explicit_intercepts(f::Symbol, type_tuple::Expr)</code></pre><p>Create a collection of methods which intecept the function calls to <code>f</code> in which at least one argument is a <code>Node</code>. Types of arguments are specified by the type tuple expression in <code>type_tuple</code>. If there are arguments which are not differentiable, they can be specified by providing a boolean vector <code>is_node</code> which indicates those arguments that are differentiable with <code>true</code> values and those which are not as <code>false</code>. Keyword arguments to add to the function signature can be specified in <code>kwargs</code>, which must be a <code>NamedTuple</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/sensitivity.jl#L28-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.@union_intercepts" href="#Nabla.@union_intercepts"><code>Nabla.@union_intercepts</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@union_intercepts f type_tuple invoke_type_tuple [kwargs]</code></pre><p>Interception strategy based on adding a method to <code>f</code> which accepts the union of each of the types specified by <code>type_tuple</code>. If none of the arguments are <code>Node</code>s then the method of <code>f</code> specified by <code>invoke_type_tuple</code> is invoked. If applicable, keyword arguments should be provided as a <code>NamedTuple</code> and be added to the generated function&#39;s signature.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/sensitivity.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nabla.@unionise-Tuple{Any}" href="#Nabla.@unionise-Tuple{Any}"><code>Nabla.@unionise</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@unionise code</code></pre><p>Transform code such that each function definition accepts <code>Node</code> objects as arguments, without effecting dispatch in other ways.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/609362a8da3ce65cf8cbc4fbf887ece42d54e74c/src/code_transformation/differentiable.jl#L149-L154">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../index.html">« Home</a><a class="docs-footer-nextpage" href="custom.html">Custom Sensitivities »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Wednesday 4 January 2023 02:43">Wednesday 4 January 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
